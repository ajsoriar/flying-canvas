/**
 * flying-canvas
 * Flying Canvas.
 * @version v0.0.1 - 2019-04-04
 * @link https://github.com/ajsoriar/flying-canvas
 * @author Andres J. Soria R. <ajsoriar@gmail.com>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
!function(scope){"use strict";var fc=function(){var incomming_params={},getRndNumBetween=function(min,max){return Math.floor(Math.random()*(max-min+1)+min)},defaults={timeoutDelay:500,template:"SQUARE",wing_w:null,wing_h:null,canvas_w:350,canvas_h:400,corner_size:75,showWings:!1},current_x=null,current_y=null,des_x=getRndNumBetween(1,10),des_y=getRndNumBetween(1,10),window_max_x=window.innerWidth-defaults.canvas_w,window_max_y=window.innerHeight-defaults.canvas_h,domEl=null,timerId=null,timeoutDelay=125,getHtmlString=function(templateName){function drawSquare(){var str="";return str+='<div id="main-container" class="main-container" style="position:absolute;'+canvas_styles_1+'"><div class="wing right"></div><div class="wing left"></div><div class="mq top-l bg-1"></div><div class="mq top-c bg-2" style="'+arm_h_styles+'"></div><div class="mq top-r bg-1"></div><div class="mq middle-l bg-3" style="'+arm_v_styles+'"></div><div class="mq middle-c bg-4" style="'+picture_styles+'" id="picture"></div><div class="mq middle-r bg-3" style="'+arm_v_styles+'"></div><div class="mq bottom-l bg-1"></div><div class="mq bottom-c bg-2" style="'+arm_h_styles+'"></div><div class="mq bottom-r bg-1"></div></div>'}var str="",canvas_styles_1="",arm_h_styles="",arm_v_styles="",picture_styles="";canvas_styles_1+="border: 0px solid red; box-shadow: 4px 6px 8px 2px rgba(0,0,0,0.5);",canvas_styles_1+="width: "+defaults.canvas_w+"px;",canvas_styles_1+="height: "+defaults.canvas_h+"px;";var arm_w=defaults.canvas_w-2*defaults.corner_size,arm_h=defaults.canvas_h-2*defaults.corner_size;switch(arm_h_styles+="width: "+arm_w+"px;",arm_v_styles+="height: "+arm_h+"px;",picture_styles+="border: 0px solid red; display: block; background-color: black;",picture_styles+="background-image: linear-gradient(red, yellow, blue); background-size: 100% 100%;",picture_styles+="width: "+arm_w+"px;",picture_styles+="height: "+arm_h+"px;",templateName){case"SQUARE":str=drawSquare();break;case"CIRCLE":str=drawSquare();break;case"OVAL":str=drawSquare()}return str},movementFunction=function(el){null===current_x&&(current_x=getRndNumBetween(1,window_max_x)),null===current_y&&(current_y=getRndNumBetween(1,window_max_y));var x=0,y=0;return 0>=current_x&&(des_x=-des_x),0>=current_y&&(des_y=-des_y),current_x>=window_max_x&&(des_x=-des_x),current_y>=window_max_y&&(des_y=-des_y),current_x-=des_x,current_y-=des_y,el.style.top=current_y+"px",el.style.left=current_x+"px",{x:x,y:y}},createDomEl=function(){if(domEl=document.getElementById("flying-canvas"),null!=domEl);else{var ID="flying-canvas-"+Date.now();domEl=document.createElement("div"),domEl.setAttribute("id",ID),domEl.setAttribute("class","flying-canvas"),domEl.style.position="absolute"}domEl.innerHTML=getHtmlString(defaults.template),document.body.appendChild(domEl)},destroy=function(){null!==domEl&&(document.body.removeChild(domEl),domEl=null)},startAnimation=function(){timerId=setTimeout(function request(){movementFunction(domEl),timerId=setTimeout(request,timeoutDelay)},timeoutDelay)},start=function(params){incomming_params=params,null===domEl&&(createDomEl(),loadImage(),startAnimation())},stop=function(){clearTimeout(timerId)},hide=function(){},show=function(){document.getElementById("main-container").style.display="block"},loadImage=function(){var img=document.createElement("img"),newImg=new Image;newImg.onload=function(){img.src=incomming_params.src,show()},newImg.src=incomming_params.src,document.getElementById("picture").appendChild(img)},setDelayInterval=function(val){null===val&&(defaults.timeoutDelay=500),timeoutDelay=val};return{go:start,start:start,stop:stop,show:show,hide:hide,destroy:destroy,setDelay:setDelayInterval}};scope.flyingCanvas=fc()}(window);